
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>The block and the blockchain &#8212; Cryptocurrency and the Smileycoin (crypto251.0)  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Cryptocurrency mining" href="lec01600.html" />
    <link rel="prev" title="The transaction" href="lec01400.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="the-block-and-the-blockchain">
<h1>The block and the blockchain<a class="headerlink" href="#the-block-and-the-blockchain" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-block-and-the-chain">
<h2>The block and the chain<a class="headerlink" href="#the-block-and-the-chain" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Alice and Bob have <strong>wallets</strong></p></li>
<li><p>A <strong>transaction</strong> is generated by Alice’s wallet when Alice sends Bob Smileycoins</p></li>
<li><p>Alice’s wallets <strong>broadcast</strong> the new transaction to the network</p></li>
<li><p>The transaction then enters the <strong>mempool</strong></p></li>
<li><p>Any wallet on the network can examine the transaction</p></li>
<li><p>A <strong>miner</strong> aggregates these transactions into a <strong>block</strong></p></li>
<li><p>A miner may simply be a wallet set to <strong>mine</strong></p></li>
<li><p>The block is <strong>linked</strong> to the previous blocks in a <strong>chain</strong></p></li>
<li><p>The miner broadcasts the block to the network</p></li>
<li><p>A block needs to satisfy certain <strong>difficulty</strong> criteria</p></li>
</ul>
<p>(more later)</p>
</div>
<div class="section" id="the-hash-and-the-nonce">
<h2>The hash and the nonce<a class="headerlink" href="#the-hash-and-the-nonce" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">https://en.bitcoin.it/wiki/Block_hashing_algorithm</a>
to see the code below and a description of the composition of the header
Handout
——-</p>
<p>The block hashing algorithm produces a sha256d hash of 256 bits (32 bytes) based on the following 640 bit input:</p>
<img alt="http://tutor-web.net/comp/crypto251.0/images/block_composition.png" src="http://tutor-web.net/comp/crypto251.0/images/block_composition.png" />
<p>(from <a class="reference external" href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">https://en.bitcoin.it/wiki/Block_hashing_algorithm</a>)
Examples
——–</p>
<p>Example python code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header_hex</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;01000000&quot;</span> <span class="o">+</span>
<span class="go"> &quot;81cd02ab7e569e8bcd9317e2fe99f2de44d49ab2b8851ba4a308000000000000&quot; +</span>
<span class="go"> &quot;e320b6c2fffc8d750423db8b1eb942ae710e951ed797f7affc8892b0f1fc122b&quot; +</span>
<span class="go"> &quot;c7f5d74d&quot; +</span>
<span class="go"> &quot;f2b9441a&quot; +</span>
<span class="go"> &quot;42a14695&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header_bin</span> <span class="o">=</span> <span class="n">header_hex</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">header_bin</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;hex_codec&#39;</span><span class="p">)</span>
<span class="go">&#39;1dbd981fe6985776b644b173a4d0385ddc1aa2a829688d1e0000000000000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;hex_codec&#39;</span><span class="p">)</span>
<span class="go">&#39;00000000000000001e8d6829a8a21adc5d38d0a473b144b6765798e61f98bd1d&#39;</span>
</pre></div>
</div>
<p>(from <a class="reference external" href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">https://en.bitcoin.it/wiki/Block_hashing_algorithm</a>)</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Cryptocurrency and the Smileycoin (crypto251.0)</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lec00100.html">Introduction to cryptocurrencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00200.html">Bitcoin and Smileycoin basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00300.html">Picking up a wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00400.html">Compiling the wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00500.html">Introduction to the SMLY command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01200.html">Basic cryptocurrency economics</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01400.html">The transaction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The block and the blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01600.html">Cryptocurrency mining</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02000.html">Cryptography and cryptocurrencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02100.html">Hash function introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02200.html">Elliptic curves</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03000.html">The trilogy: tutor-web, Smileycoin and Education in a Suitcase</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03100.html">The SmileyCoin Fund</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03200.html">Splitting the coinbase: No longer just a miner’s fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03400.html">Staking and proof-of-stake</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03500.html">The tutor-web as a faucet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec04000.html">The command line from a Linux script</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec04500.html">Building slightly more complex transactions on the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec15000.html">Cryptocurrency exchanges</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec15500.html">API access to exchanges</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec26000.html">Automation on the blockchain  (stores, ATM, gambling etc)</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec30000.html">The Bitcoin programming language</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec30100.html">Fun and games with Bitcoin</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec31000.html">The SmileyCoin Fund revisited</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec47000.html">Atomic swaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec47100.html">More on atomic swaps and smart contracts</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="lec01400.html" title="previous chapter">The transaction</a></li>
      <li>Next: <a href="lec01600.html" title="next chapter">Cryptocurrency mining</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Gunnar Stefansson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/lec01500.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>