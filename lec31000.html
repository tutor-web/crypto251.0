
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>The SmileyCoin Fund revisited &#8212; Cryptocurrency and the Smileycoin (crypto251.0)  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Atomic swaps" href="lec47000.html" />
    <link rel="prev" title="Fun and games with Bitcoin" href="lec30100.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="the-smileycoin-fund-revisited">
<h1>The SmileyCoin Fund revisited<a class="headerlink" href="#the-smileycoin-fund-revisited" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>The SmileyCoin Fund has been briefly explained earlier</p>
</div>
<div class="section" id="purpose-of-the-fund">
<h2>Purpose of the Fund<a class="headerlink" href="#purpose-of-the-fund" title="Permalink to this headline">¶</a></h2>
<p>The SmileyCoin Fund is set up to support education, educational technologies and projects which enhance the use of tutor-web and SmileyCoin</p>
</div>
<div class="section" id="the-board-of-the-smileycoin-fund">
<h2>The Board of the SmileyCoin Fund<a class="headerlink" href="#the-board-of-the-smileycoin-fund" title="Permalink to this headline">¶</a></h2>
<p>A formal Fund needs to have a process to handle applications</p>
<p>The SmileyCoin Fund has 4 Board members, nominated by 4 different organisations</p>
<div class="section" id="handout">
<h3>Handout<a class="headerlink" href="#handout" title="Permalink to this headline">¶</a></h3>
<p>The SmileyCoin Fund has a <strong>Board</strong> which accept applications for funding.</p>
<p>The Board has members from four different organisations, including the Rector’s office of the University of Iceland, as described in a
<a class="reference external" href="https://english.hi.is/news/supporting_smileycoin_reward_system">public announcement</a>.</p>
</div>
</div>
<div class="section" id="the-mandate">
<h2>The Mandate<a class="headerlink" href="#the-mandate" title="Permalink to this headline">¶</a></h2>
<p>A formal Mandate has been written and signed by all parties to the Board of the SmileyCoin Fund.</p>
<p>The signed Mandate is publicly available.</p>
<div class="section" id="id1">
<h3>Handout<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The Board has a <a class="reference external" href="http://bit.ly/SMLYmandate">formal mandate</a>.</p>
</div>
</div>
<div class="section" id="the-multisig-address-for-the-fund">
<h2>The multisig address for the Fund<a class="headerlink" href="#the-multisig-address-for-the-fund" title="Permalink to this headline">¶</a></h2>
<p>The entire SmileyCoin Fund is stored in</p>
<p><a class="reference external" href="https://chainz.cryptoid.info/smly/address.dws?3JT9LAzuMChCifVoQQK18BQV9z4BzpbQVH.htm">one **multisig** address</a>
is available.</p>
<div class="section" id="a-technical-document-has-been-written-to-describe-the-details-of-how-to-operate-the-addresshandout">
<h3>A technical document has been written to describe the details of how to operate the addressHandout<a class="headerlink" href="#a-technical-document-has-been-written-to-describe-the-details-of-how-to-operate-the-addresshandout" title="Permalink to this headline">¶</a></h3>
<p>The entire SmileyCoin Fund is stored in one <strong>multisig</strong> address</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">JT9LAzuMChCifVoQQK18BQV9z4BzpbQVH</span>
</pre></div>
</div>
<p>This address can be viewed in a SmileyCoin
<a class="reference external" href="https://chainz.cryptoid.info/smly/address.dws?3JT9LAzuMChCifVoQQK18BQV9z4BzpbQVH.htm">block explorer</a>
.</p>
<p>A technical document has been written to describe the details of how to operate the address.</p>
</div>
</div>
<div class="section" id="creating-signing-and-broadcasting-a-multisig-transaction">
<h2>Creating, signing and broadcasting a multisig transaction<a class="headerlink" href="#creating-signing-and-broadcasting-a-multisig-transaction" title="Permalink to this headline">¶</a></h2>
<p>Some care is needed when sending from a multisig address</p>
</div>
<div class="section" id="signing-the-mandate-electronically">
<h2>Signing the Mandate electronically<a class="headerlink" href="#signing-the-mandate-electronically" title="Permalink to this headline">¶</a></h2>
<p>In addition to signing a piece of paper, a corresponding PDF file can be signed electronically.</p>
</div>
<div class="section" id="storing-the-signatures-in-public">
<h2>Storing the signatures in public<a class="headerlink" href="#storing-the-signatures-in-public" title="Permalink to this headline">¶</a></h2>
<p>Once a document has been signed, the signatures can be made public</p>
<p>The SMLY blockchain is the obvious place to store SmileyCoin-related signatures
Handout
——-</p>
<p>Step 1: Get the final document in shape, including official signatures and addresses and scan it back in as PDF. This is in file mandate_signed.pdf</p>
<p>Step 2: Get the hash of the file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sha256sum</span> <span class="o">&lt;</span> <span class="n">mandate_signed</span><span class="o">.</span><span class="n">pdf</span>
<span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>  <span class="o">-</span>
</pre></div>
</div>
<p>Step 3: each party signs the message</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UI</span><span class="p">:</span>

<span class="n">signmessage</span> <span class="n">BPbwDW2AWsE9KmFDRi1K6QrUdrHvkfbxfn</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
<span class="n">IOYu</span><span class="o">+</span><span class="n">G3MZibkoVJigY3VaveGWvFqkbWliiqkp5Q</span><span class="o">/</span><span class="n">AYC01u8Rffj3QypV6Pyb6yVLdTdlqIp5</span><span class="o">+</span><span class="n">H8y</span><span class="o">/</span><span class="n">pm</span><span class="o">/</span><span class="mi">0</span><span class="n">dVMTNk</span><span class="o">=</span>

<span class="n">EIAS</span><span class="p">:</span>

<span class="n">signmessage</span> <span class="n">BSZNAqFuQCH3hZTqwmrqv8LDYPJuEYWfyv</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
<span class="n">H5Wr</span><span class="o">/</span><span class="n">hJYWTgfZp2fPHAzh5wU7VFuARysMCXekIgOq7rwK9kArEURn9Zy9g430yFC4UyMwamwOVIu1HYPV9nxpq8</span><span class="o">=</span>

<span class="n">STL</span><span class="p">:</span>

<span class="n">signmessage</span> <span class="n">BLE92S2zXshaczZ8GrojAXp8yD54UGRHDk</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
<span class="n">IJ2pW06</span><span class="o">+</span><span class="n">guacTtmW6MdzWxcafjviD6MUvRM0Wssfm3Hqtesap6gRFQ6U2VT85</span><span class="o">/</span><span class="n">aRs1AvUnTeQRuQQ</span><span class="o">+</span><span class="n">e1HhGbxz4</span><span class="o">=</span>

<span class="n">AMI</span><span class="p">:</span>
<span class="n">signmessage</span> <span class="n">BMv1CU9d9ghzB5HdtahWYz9N6NGpFVpSVB</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
<span class="n">IMB3gDqc</span><span class="o">/</span><span class="n">al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU2Q6mCdbfVOvUlOt0WGh6cgMw67Q</span><span class="o">=</span>
</pre></div>
</div>
<p>Step 4: Verify all signatures</p>
<p>UI</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verifymessage</span> <span class="n">BPbwDW2AWsE9KmFDRi1K6QrUdrHvkfbxfn</span>
  <span class="s1">&#39;IOYu+G3MZibkoVJigY3VaveGWvFqkbWliiqkp5Q/AYC01u8Rffj3QypV6Pyb6yVLdTdlqIp5+H8y/pm/0dVMTNk=&#39;</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
</pre></div>
</div>
<p>EIAS</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verifymessage</span> <span class="n">BSZNAqFuQCH3hZTqwmrqv8LDYPJuEYWfyv</span>
  <span class="s1">&#39;H5Wr/hJYWTgfZp2fPHAzh5wU7VFuARysMCXekIgOq7rwK9kArEURn9Zy9g430yFC4UyMwamwOVIu1HYPV9nxpq8=&#39;</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
</pre></div>
</div>
<p>STL</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verifymessage</span> <span class="n">BLE92S2zXshaczZ8GrojAXp8yD54UGRHDk</span>
  <span class="s1">&#39;IJ2pW06+guacTtmW6MdzWxcafjviD6MUvRM0Wssfm3Hqtesap6gRFQ6U2VT85/aRs1AvUnTeQRuQQ+e1HhGbxz4=&#39;</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
</pre></div>
</div>
<p>AMI</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verifymessage</span> <span class="n">BMv1CU9d9ghzB5HdtahWYz9N6NGpFVpSVB</span>
  <span class="n">IMB3gDqc</span><span class="o">/</span><span class="n">al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU2Q6mCdbfVOvUlOt0WGh6cgMw67Q</span><span class="o">=</span>
  <span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
</pre></div>
</div>
<p>Step 5: Convert all the signatures to hex</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span>
</pre></div>
</div>
<p>  &gt;&gt;&gt; import base64</p>
<p>UI</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">base64</span><span class="o">.</span><span class="n">decodestring</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;IOYu+G3MZibkoVJigY3VaveGWvFqkbWliiqkp5Q/AYC01u8R</span>
<span class="n">ffj3QypV6Pyb6yVLdTdlqIp5</span><span class="o">+</span><span class="n">H8y</span><span class="o">/</span><span class="n">pm</span><span class="o">/</span><span class="mi">0</span><span class="n">dVMTNk</span><span class="o">=</span><span class="s1">&#39;).hex()</span>
<span class="s1">&#39;20e62ef86dcc6626e4a15262818dd56af7865af16a91b5a58a2aa4a7943f0180</span>
<span class="n">b4d6ef117df8f7432a55e8fc9beb254b753765a88a79f87f32fe99bfd1d54c4cd9</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>EIAS</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">base64</span><span class="o">.</span><span class="n">decodestring</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;H5Wr/hJYWTgfZp2fPHAzh5wU7VFuARysMCXekIgOq7rwK9kArE</span>
<span class="n">URn9Zy9g430yFC4UyMwamwOVIu1HYPV9nxpq8</span><span class="o">=</span><span class="s1">&#39;).hex()</span>
<span class="s1">&#39;1f95abfe125859381f669d9f3c7033879c14ed516e011cac3025de90880eabbaf02bd</span>
<span class="mi">900</span><span class="n">ac45119fd672f60e37d32142e14c8cc1a9b039522ed4760f57d9f1a6af</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>STL</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base64</span><span class="o">.</span><span class="n">decodestring</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;IJ2pW06+guacTtmW6MdzWxcafjviD6MUvRM0Wssfm3Hqtesap6gR</span>
<span class="go">   FQ6U2VT85/aRs1AvUnTeQRuQQ+e1HhGbxz4=&#39;).hex()</span>
<span class="go">&#39;209da95b4ebe82e69c4ed996e8c7735b171a7e3be20fa314bd13345acb1f9b71eab5eb1aa7a811</span>
<span class="go">150e94d954fce7f691b3502f5274de411b9043e7b51e119bc73e&#39;</span>
</pre></div>
</div>
<p>AMI</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base64</span><span class="o">.</span><span class="n">decodestring</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;IMB3gDqc/al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU</span>
<span class="go">  2Q6mCdbfVOvUlOt0WGh6cgMw67Q=&#39;).hex()</span>
<span class="go"> &#39;20c077803a9cfda97887d1ac684cfb52dca91db0ab0fb75a436a888b4b35489860b984f427415580b9381e</span>
<span class="go"> b314d90ea609d6df54ebd494eb7458687a720330ebb4&#39;</span>
</pre></div>
</div>
<p>Step 6: Stick the signatures into a single block</p>
<p>Next we need to pick any 4 UTXOs and create 4 transactions, which spend those outputs and send the signatures as data in these transactions, one per transaction. EIAS did this by setting up 4 UTXOs to a new address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gstefans@eias_master:~$ smileycoin-cli sendtoaddress B9W6pvnb2WZpPWTA57Z9HZkbe7W3ZNvT1G 11
b867c61387570529e2905ba5c0dfc5912410a4cf9a6d52411e306c0d7128e8e0
gstefans@eias_master:~$ smileycoin-cli sendtoaddress B9W6pvnb2WZpPWTA57Z9HZkbe7W3ZNvT1G 11
2c2fdea0a9c6ecde1680c407dd9c6a821ffc60989dcfb245ce51276403a21f20
gstefans@eias_master:~$ smileycoin-cli sendtoaddress B9W6pvnb2WZpPWTA57Z9HZkbe7W3ZNvT1G 11
8235efa0a79b9fe42de292f51bf3860a25c719e5a7e5119531c8c5a7bdbc97cf
gstefans@eias_master:~$ smileycoin-cli sendtoaddress B9W6pvnb2WZpPWTA57Z9HZkbe7W3ZNvT1G 11
cc15dacac264763ac681cb08ef8e50a53a8e202e638e11c93a3e4f2e4065fac1
</pre></div>
</div>
<p>Check:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>smileycoin-cli decoderawtransaction `smileycoin-cli getrawtransaction
b867c61387570529e2905ba5c0dfc5912410a4cf9a6d52411e306c0d7128e8e0`
smileycoin-cli decoderawtransaction `smileycoin-cli getrawtransaction
2c2fdea0a9c6ecde1680c407dd9c6a821ffc60989dcfb245ce51276403a21f20`
smileycoin-cli decoderawtransaction `smileycoin-cli getrawtransaction
8235efa0a79b9fe42de292f51bf3860a25c719e5a7e5119531c8c5a7bdbc97cf`
smileycoin-cli decoderawtransaction `smileycoin-cli getrawtransaction
cc15dacac264763ac681cb08ef8e50a53a8e202e638e11c93a3e4f2e4065fac1`
</pre></div>
</div>
<p>It is seen that each has a vout=0 of 11 SMLY to B9W6pvnb2WZpPWTA57Z9HZkbe7W3ZNvT1G.</p>
<p>Next we set up the actual commands. Note that in each case we only transmit 10 SMLY to the destination, leaving 1 SMLY for the transaction fee. We will simply use Betzyy, the EIAS donation address, for the destination.</p>
<p>So the 4 signatures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">20e62</span><span class="n">ef86dcc6626e4a15262818dd56af7865af16a91b5a58a2aa4a7943f0180b4d6ef117df8f7432a55e8fc9beb254b753765a88a79f87f32fe99bfd1d54c4cd9</span>

<span class="mi">1</span><span class="n">f95abfe125859381f669d9f3c7033879c14ed516e011cac3025de90880eabbaf02bd900ac45119fd672f60e37d32142e14c8cc1a9b039522ed4760f57d9f1a6af</span>

<span class="mi">209</span><span class="n">da95b4ebe82e69c4ed996e8c7735b171a7e3be20fa314bd13345acb1f9b71eab5eb1aa7a811150e94d954fce7f691b3502f5274de411b9043e7b51e119bc73e</span>

<span class="mi">20</span><span class="n">c077803a9cfda97887d1ac684cfb52dca91db0ab0fb75a436a888b4b35489860b984f427415580b9381eb314d90ea609d6df54ebd494eb7458687a720330ebb4</span>
</pre></div>
</div>
<p>need to be paired with the 4 UTXOs</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">b867c61387570529e2905ba5c0dfc5912410a4cf9a6d52411e306c0d7128e8e0</span>
<span class="mi">2</span><span class="n">c2fdea0a9c6ecde1680c407dd9c6a821ffc60989dcfb245ce51276403a21f20</span>
<span class="mi">8235</span><span class="n">efa0a79b9fe42de292f51bf3860a25c719e5a7e5119531c8c5a7bdbc97cf</span>
<span class="n">cc15dacac264763ac681cb08ef8e50a53a8e202e638e11c93a3e4f2e4065fac1</span>
</pre></div>
</div>
<p>in transactions, using the createrawtransaction
command, i.e. using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">createrawtransaction</span> <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">txid</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">TTTTT</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">vout</span><span class="se">\&quot;</span><span class="s2">:0}]&quot;</span> <span class="s2">&quot;</span>
<span class="p">{</span>\<span class="s2">&quot;BEtZyyYqDXqmRJJ45nnL15cuASfiXg9Yik</span><span class="se">\&quot;</span><span class="s2">:10,</span><span class="se">\&quot;</span><span class="s2">data</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">SSSSS</span><span class="se">\&quot;</span><span class="s2">}&quot;</span>
</pre></div>
</div>
<p>where TTTTT is the transaction Id for the UTXO and SSSSS is the hex representation of the signature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">createrawtransaction</span>
 <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">txid</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">b867c61387570529e2905ba5c0dfc5912410a4cf9a6d52411e306c0d7128e8e0</span><span class="se">\&quot;</span><span class="s2">,</span>
 \<span class="s2">&quot;vout</span><span class="se">\&quot;</span><span class="s2">:0}]&quot;</span>
 <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">BEtZyyYqDXqmRJJ45nnL15cuASfiXg9Yik</span><span class="se">\&quot;</span><span class="s2">:10,</span>
\<span class="s2">&quot;data</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">20e62ef86dcc6626e4a15262818dd56af7865af16a91b5a58a2aa4a7943f01</span>
<span class="mi">80</span><span class="n">b4d6ef117df8f7432a55e8fc9beb254b753765a88a79f87f32fe99bfd1d54c4cd9</span>\<span class="s2">&quot;}&quot;</span>

<span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">createrawtransaction</span>
<span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">txid</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">2c2fdea0a9c6ecde1680c407dd9c6a821ffc60989dcfb245ce51276403a21f20</span><span class="se">\&quot;</span><span class="s2">,</span>
\<span class="s2">&quot;vout</span><span class="se">\&quot;</span><span class="s2">:0}]&quot;</span>
<span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">BEtZyyYqDXqmRJJ45nnL15cuASfiXg9Yik</span><span class="se">\&quot;</span><span class="s2">:10,</span>
\<span class="s2">&quot;data</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">1f95abfe125859381f669d9f3c7033879c14ed516e011cac3025de90880eabbaf02bd900a</span>
  <span class="n">c45119fd672f60e37d32142e14c8cc1a9b039522ed4760f57d9f1a6af</span>\<span class="s2">&quot;}&quot;</span>

<span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">createrawtransaction</span>
 <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">txid</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">8235efa0a79b9fe42de292f51bf3860a25c719e5a7e5119531c8c5a7bdbc97cf</span><span class="se">\&quot;</span><span class="s2">,</span>
 \<span class="s2">&quot;vout</span><span class="se">\&quot;</span><span class="s2">:0}]&quot;</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">BEtZyyYqDXqmRJJ45nnL15cuASfiXg9Yik</span><span class="se">\&quot;</span><span class="s2">:10,</span>
   \<span class="s2">&quot;data</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">209da95b4ebe82e69c4ed996e8c7735b171a7e3be20fa314bd13345acb1f9b</span>
   <span class="mi">71</span><span class="n">eab5eb1aa7a811150e94d954fce7f691b3502f5274de411b9043e7b51e119bc73e</span>\<span class="s2">&quot;}&quot;</span>

<span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">createrawtransaction</span>
  <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">txid</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">cc15dacac264763ac681cb08ef8e50a53a8e202e638e11c93a3e4f2e4065fac1</span><span class="se">\&quot;</span><span class="s2">,</span>
     \<span class="s2">&quot;vout</span><span class="se">\&quot;</span><span class="s2">:0}]&quot;</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">BEtZyyYqDXqmRJJ45nnL15cuASfiXg9Yik</span><span class="se">\&quot;</span><span class="s2">:10,</span>
     \<span class="s2">&quot;data</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">20c077803a9cfda97887d1ac684cfb52dca91db0ab0fb75a436a888b4b35489860b</span>
      <span class="mi">984</span><span class="n">f427415580b9381eb314d90ea609d6df54ebd494eb7458687a720330ebb4</span>\<span class="s2">&quot;}&quot;</span>
</pre></div>
</div>
<p>Finally each is signed</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">signrawtransaction</span>

<span class="mf">0100000001e0</span><span class="n">e828710d6c301e41526d9acfa4102491c5dfc0a55b90e22905578713c667b80000000000ffffffff0200ca9a3b000000001976a9147283560a1a0e4d5ba2868e3ec7a7d98c6816d4e188ac0000000000000000436a4120e62ef86dcc6626e4a15262818dd56af7865af16a91b5a58a2aa4a7943f0180b4d6ef117df8f7432a55e8fc9beb254b753765a88a79f87f32fe99bfd1d54c4cd900000000</span>

 <span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">signrawtransaction</span>

<span class="mi">0100000001201</span><span class="n">fa203642751ce45b2cf9d9860fc1f826a9cdd07c48016deecc6a9a0de2f2c0000000000ffffffff0200ca9a3b000000001976a9147283560a1a0e4d5ba2868e3ec7a7d98c6816d4e188ac0000000000000000436a411f95abfe125859381f669d9f3c7033879c14ed516e011cac3025de90880eabbaf02bd900ac45119fd672f60e37d32142e14c8cc1a9b039522ed4760f57d9f1a6af00000000</span>

 <span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">signrawtransaction</span>

<span class="mi">0100000001</span><span class="n">cf97bcbda7c5c8319511e5a7e519c7250a86f31bf592e22de49f9ba7a0ef35820000000000ffffffff0200ca9a3b000000001976a9147283560a1a0e4d5ba2868e3ec7a7d98c6816d4e188ac0000000000000000436a41209da95b4ebe82e69c4ed996e8c7735b171a7e3be20fa314bd13345acb1f9b71eab5eb1aa7a811150e94d954fce7f691b3502f5274de411b9043e7b51e119bc73e00000000</span>
 <span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">signrawtransaction</span>

<span class="mi">0100000001</span><span class="n">c1fa65402e4f3e3ac9118e632e208e3aa5508eef08cb81c63a7664c2cada15cc0000000000ffffffff0200ca9a3b000000001976a9147283560a1a0e4d5ba2868e3ec7a7d98c6816d4e188ac0000000000000000436a4120c077803a9cfda97887d1ac684cfb52dca91db0ab0fb75a436a888b4b35489860b984f427415580b9381eb314d90ea609d6df54ebd494eb7458687a720330ebb400000000</span>
</pre></div>
</div>
<p>and broadcast using sendrawtransaction</p>
<p>These transactions were mined into block 538357.</p>
</div>
<div class="section" id="validating-data-from-the-blockchain">
<h2>Validating data from the blockchain<a class="headerlink" href="#validating-data-from-the-blockchain" title="Permalink to this headline">¶</a></h2>
<div class="section" id="to-check-data-stored-in-the-blockchain-the-reverse-of-the-insertion-sequence-needs-to-be-used-handout">
<h3>To check data stored in the blockchain, the reverse of the insertion sequence needs to be used.Handout<a class="headerlink" href="#to-check-data-stored-in-the-blockchain-the-reverse-of-the-insertion-sequence-needs-to-be-used-handout" title="Permalink to this headline">¶</a></h3>
<p>It is not enough to be able to store data on the blockchain, as it needs to be possible to verify the data
and check any claims made.</p>
<p>First, look at the block. This is block 538357 and can be fetched directly using <cite>getblockhash</cite> followed by <cite>getblock</cite>, or viewed using a blockchain explorer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://chainz.cryptoid.info/smly/search.dws?q=538357
</pre></div>
</div>
<p>Pick one of these transactions, say <cite>a40d1b13ffb741d64e6630e0726ef82397d0930f93d639fa3126a519ea49b4af</cite> to find the data which goes with the <cite>OP_RETURN</cite> operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span><span class="n">a4120e62ef86dcc6626e4a15262818dd56af7865af16a91b5a</span>
<span class="mi">58</span><span class="n">a2aa4a7943f0180b4d6ef117df8f7432a55e8fc9beb254b75</span>
<span class="mi">3765</span><span class="n">a88a79f87f32fe99bfd1d54c4cd9</span>
</pre></div>
</div>
<p>(all on one line with no spaces).</p>
<p>As with other hex codes, each character is codes as a two-digit hexadecimal number. The first two are <cite>6a</cite> and <cite>41</cite> and the rest is the actual data string. The <cite>6a</cite> is the code for <cite>OP_RETURN</cite> (see <a class="reference external" href="https://en.bitcoin.it/wiki/Script/">this link</a>).</p>
<p>The actual hex coding is therefore 130 hexadecimal numbers or 65 bytes and since 65 in decimal is 41 hex (or 0x41), this explains the second code, <cite>41</cite>, being the length of the data field.</p>
<p>To decode the string, a few python3 commands are useful:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">codecs</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;20c077803a9cfda97887d1ac684cfb52dca91db0ab</span>
 <span class="mi">0</span><span class="n">fb75a436a888b4b35489860b984f427415580b9381eb314d90ea609d6df54ebd494eb7458687a720330ebb4</span><span class="s1">&#39;, &#39;</span><span class="nb">hex</span><span class="s1">&#39;),</span>
<span class="s1">&#39;base64&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
<span class="s1">&#39;IMB3gDqc/al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU2Q6mCdbfVOvUlOt0</span><span class="se">\n</span><span class="s1">WGh6cgMw67Q=</span><span class="se">\n</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>The two newline characters need to be removed from this string, resulting in a signature of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;IMB3gDqc/al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU2Q6mCdbfVOvUlOt0WGh6cgMw67Q=&#39;</span>
</pre></div>
</div>
<p>Recall that the original hash to be signed was</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">09</span><span class="n">d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a</span>
</pre></div>
</div>
<p>and it was signed by 4 addresses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BPbwDW2AWsE9KmFDRi1K6QrUdrHvkfbxfn</span>
<span class="n">BSZNAqFuQCH3hZTqwmrqv8LDYPJuEYWfyv</span>
<span class="n">BLE92S2zXshaczZ8GrojAXp8yD54UGRHDk</span>
<span class="n">BMv1CU9d9ghzB5HdtahWYz9N6NGpFVpSVB</span>
</pre></div>
</div>
<p>One can now verify this signature using the appropriate address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">smileycoin</span><span class="o">-</span><span class="n">cli</span> <span class="n">verifymessage</span> <span class="n">BMv1CU9d9ghzB5HdtahWYz9N6NGpFVpSVB</span>
 <span class="s1">&#39;IMB3gDqc/al4h9GsaEz7UtypHbCrD7daQ2qIi0s1SJhguYT0J0FVgLk4HrMU2Q6mCdbfVOvUlOt0WGh6cgMw67Q=&#39;</span>
 <span class="s1">&#39;09d3b7814390b0badfdf9550d848396f9ee7be202f8c61f6c678d71169ba0f9a&#39;</span>
</pre></div>
</div>
<p>which returns  <cite>true</cite> as it should.</p>
</div>
</div>
<div class="section" id="open-accounting-on-the-blockchain">
<h2>Open accounting on the blockchain<a class="headerlink" href="#open-accounting-on-the-blockchain" title="Permalink to this headline">¶</a></h2>
<p>Transparency is one part of good governance</p>
<p>It is important for formal funds to demonstrate where grant allocations go</p>
<p>This can be done using a cryptocurrency and announcing exactly what is being done with the funds</p>
<div class="section" id="id2">
<h3>Handout<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Announcements of spending are sent out on <a class="reference external" href="https://twitter.com/SmileycoinNews/status/1164017294567256064">Twitter</a>.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Cryptocurrency and the Smileycoin (crypto251.0)</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lec00100.html">Introduction to cryptocurrencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00200.html">Bitcoin and Smileycoin basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00300.html">Picking up a wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00400.html">Compiling the wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec00500.html">Introduction to the SMLY command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01200.html">Basic cryptocurrency economics</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01400.html">The transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01500.html">The block and the blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec01600.html">Cryptocurrency mining</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02000.html">Cryptography and cryptocurrencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02100.html">Hash function introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec02200.html">Elliptic curves</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03000.html">The trilogy: tutor-web, Smileycoin and Education in a Suitcase</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03100.html">The SmileyCoin Fund</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03200.html">Splitting the coinbase: No longer just a miner’s fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03400.html">Staking and proof-of-stake</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec03500.html">The tutor-web as a faucet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec04000.html">The command line from a Linux script</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec04500.html">Building slightly more complex transactions on the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec15000.html">Cryptocurrency exchanges</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec15500.html">API access to exchanges</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec26000.html">Automation on the blockchain  (stores, ATM, gambling etc)</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec30000.html">The Bitcoin programming language</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec30100.html">Fun and games with Bitcoin</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The SmileyCoin Fund revisited</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec47000.html">Atomic swaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="lec47100.html">More on atomic swaps and smart contracts</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="lec30100.html" title="previous chapter">Fun and games with Bitcoin</a></li>
      <li>Next: <a href="lec47000.html" title="next chapter">Atomic swaps</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Gunnar Stefansson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/lec31000.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>